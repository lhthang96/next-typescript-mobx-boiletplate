{"ast":null,"code":"import \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/col/style/css\";\nimport _Col from \"antd/lib/col\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport \"antd/lib/card/style/css\";\nimport _Card from \"antd/lib/card\";\nvar _jsxFileName = \"C:\\\\Users\\\\thangluong\\\\Desktop\\\\mypc\\\\Projects\\\\Personal\\\\next-typescript\\\\pages\\\\movies\\\\index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useRef } from 'react';\nimport _ from 'lodash';\nimport * as moviesApi from '../../common/http/movies';\nimport LandingLayout from '../../containers/LandingLayout';\nvar Meta = _Card.Meta;\nvar DefaultImageUrl = \"https://ci5.googleusercontent.com/proxy/kHgL543wKoBsxAOA1xAefBIZzsk0W2mq9Jz--x1UG8cY_dHuSOHQjxVRydCtQClUyUTAjxttjvmke9EuRsNuRpJ26n0dgrQDh1q8endwztBq0ZjHvxiHApoVlPafogrIV_3c78OSjt5kT4VcKtfRv0NCmMTEGw=s0-d-e1-ft#https://mcusercontent.com/bfbd29faaf4c5a50d776a6c40/images/e0a8a7ac-9b70-4481-a0ab-dd55419adff4.png\";\n\nvar MoviesPage = function MoviesPage(_ref) {\n  var movies = _ref.movies;\n  var searchInput = useRef(null);\n\n  var _useState = useState(movies),\n      moviesList = _useState[0],\n      setMoviesList = _useState[1];\n\n  var onSearchMovies = function onSearchMovies() {\n    var movies;\n    return _regeneratorRuntime.async(function onSearchMovies$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(moviesApi.searchMovies(searchInput.current.input.value));\n\n          case 2:\n            movies = _context.sent;\n            setMoviesList(movies);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var renderMovies = function renderMovies() {\n    return moviesList.length > 0 ? moviesList.map(function (movie) {\n      var _movie$image;\n\n      var movieSummary = _.replace(movie.summary, /<[/]?[pb]>/g, '');\n\n      return __jsx(_Col, {\n        key: movie.id,\n        span: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, __jsx(_Card, {\n        hoverable: true,\n        cover: __jsx(\"img\", {\n          alt: \"example\",\n          src: ((_movie$image = movie.image) === null || _movie$image === void 0 ? void 0 : _movie$image.medium) || DefaultImageUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }),\n        style: {\n          width: 240,\n          height: 600,\n          marginBottom: 24,\n          overflow: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, __jsx(Meta, {\n        title: movie.name || 'No name given',\n        description: movieSummary || 'No summary info',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })));\n    }) : __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"No Movies found\");\n  };\n\n  return __jsx(LandingLayout, {\n    path: \"home/movies\",\n    title: \"Movies\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Movies page\"), __jsx(_Input, {\n    ref: searchInput,\n    required: true,\n    placeholder: \"Title movie name and press 'Enter' to search\",\n    onPressEnter: onSearchMovies,\n    style: {\n      marginBottom: '24px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), __jsx(_Row, {\n    className: \"movies-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, renderMovies()));\n};\n\nMoviesPage.getInitialProps = function _callee() {\n  var initMovies;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(moviesApi.searchMovies('sherlock'));\n\n        case 2:\n          initMovies = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            movies: initMovies\n          });\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\n\nexport default MoviesPage;","map":{"version":3,"sources":["C:/Users/thangluong/Desktop/mypc/Projects/Personal/next-typescript/pages/movies/index.tsx"],"names":["Meta","DefaultImageUrl","MoviesPage","movies","searchInput","useRef","moviesList","setMoviesList","useState","onSearchMovies","moviesApi","renderMovies","movieSummary","_","movie","width","height","marginBottom","overflow","initMovies"],"mappings":";;;;;;;;;;;;AAAA,SAAA,QAAA,EAAA,MAAA,QAAA,OAAA;AAEA,OAAA,CAAA,MAAA,QAAA;AAEA,OAAO,KAAP,SAAA,MAAA,0BAAA;AAGA,OAAA,aAAA,MAAA,gCAAA;IAEQA,I,SAAAA,I;AACR,IAAMC,eAAe,GAArB,uTAAA;;AAaA,IAAMC,UAA2B,GAAG,SAA9BA,UAA8B,CAAA,IAAA,EAAgB;AAAA,MAAbC,MAAa,GAAA,IAAA,CAAbA,MAAa;AAClD,MAAMC,WAAW,GAAGC,MAAM,CAA1B,IAA0B,CAA1B;;AADkD,MAAA,SAAA,GAEZG,QAAQ,CAFI,MAEJ,CAFI;AAAA,MAE1CF,UAF0C,GAAA,SAAA,CAAA,CAAA,CAAA;AAAA,MAE9BC,aAF8B,GAAA,SAAA,CAAA,CAAA,CAAA;;AAIlD,MAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAA;AAAA,QAAA,MAAA;AAAA,WAAA,mBAAA,CAAA,KAAA,CAAA,SAAA,eAAA,CAAA,QAAA,EAAA;AAAA,aAAA,CAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,eAAA,CAAA;AAAA,YAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAAA,mBAAA,mBAAA,CAAA,KAAA,CACAC,SAAS,CAATA,YAAAA,CAAuBN,WAAW,CAAXA,OAAAA,CAAAA,KAAAA,CADvB,KACAM,CADA,CAAA;;AAAA,eAAA,CAAA;AACfP,YAAAA,MADe,GAAA,QAAA,CAAA,IACfA;AACNI,YAAAA,aAAa,CAAbA,MAAa,CAAbA;;AAFqB,eAAA,CAAA;AAAA,eAAA,KAAA;AAAA,mBAAA,QAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,KAAA,CAAA;AAAvB,GAAA;;AAKA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAwC;AAC3D,WAAO,UAAU,CAAV,MAAA,GAAA,CAAA,GACH,UAAU,CAAV,GAAA,CAAe,UAAA,KAAA,EAAS;AAAA,UAAA,YAAA;;AACxB,UAAMC,YAAY,GAAGC,CAAC,CAADA,OAAAA,CAAUC,KAAK,CAAfD,OAAAA,EAAAA,aAAAA,EAArB,EAAqBA,CAArB;;AACA,aACE,KAAA,CAAA,IAAA,EAAA;AAAK,QAAA,GAAG,EAAEC,KAAK,CAAf,EAAA;AAAoB,QAAA,IAAI,EAAxB,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,QAAA,EAAA,YAAA;AAAA,UAAA,UAAA,EAAA;AAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,EACA,KAAA,CAAA,KAAA,EAAA;AACE,QAAA,SAAS,EADX,IAAA;AAEE,QAAA,KAAK,EAAE,KAAA,CAAA,KAAA,EAAA;AAAK,UAAA,GAAG,EAAR,SAAA;AAAmB,UAAA,GAAG,EAAE,CAAA,CAAA,YAAA,GAAA,KAAK,CAAL,KAAA,MAAA,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,YAAA,CAAA,MAAA,KAAxB,eAAA;AAAA,UAAA,QAAA,EAAA;AAAA,YAAA,QAAA,EAAA,YAAA;AAAA,YAAA,UAAA,EAAA;AAAA,WAAA;AAAA,UAAA,MAAA,EAAA;AAAA,SAAA,CAFT;AAGE,QAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EADA,GAAA;AAELC,UAAAA,MAAM,EAFD,GAAA;AAGLC,UAAAA,YAAY,EAHP,EAAA;AAILC,UAAAA,QAAQ,EAAE;AAJL,SAHT;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,QAAA,EAAA,YAAA;AAAA,UAAA,UAAA,EAAA;AAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,EAUE,KAAA,CAAA,IAAA,EAAA;AAAM,QAAA,KAAK,EAAEJ,KAAK,CAALA,IAAAA,IAAb,eAAA;AAA4C,QAAA,WAAW,EAAEF,YAAY,IAArE,iBAAA;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,QAAA,EAAA,YAAA;AAAA,UAAA,UAAA,EAAA;AAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,CAVF,CADA,CADF;AAHG,KACH,CADG,GAoBH,KAAA,CAAA,GAAA,EAAA;AAAA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA,YAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAAA;AAAA,MAAA,MAAA,EAAA;AAAA,KAAA,EApBJ,iBAoBI,CApBJ;AADF,GAAA;;AAwBA,SACE,KAAA,CAAA,aAAA,EAAA;AAAe,IAAA,IAAI,EAAnB,aAAA;AAAkC,IAAA,KAAK,EAAvC,QAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA;AAAA,KAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAAA,EACE,KAAA,CAAA,GAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA;AAAA,KAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAAA,EADF,aACE,CADF,EAEE,KAAA,CAAA,MAAA,EAAA;AACE,IAAA,GAAG,EADL,WAAA;AAEE,IAAA,QAAQ,EAFV,IAAA;AAGE,IAAA,WAAW,EAHb,8CAAA;AAIE,IAAA,YAAY,EAJd,cAAA;AAKE,IAAA,KAAK,EAAE;AAACK,MAAAA,YAAY,EAAE;AAAf,KALT;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA;AAAA,KAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAAA,CAFF,EAQE,KAAA,CAAA,IAAA,EAAA;AAAK,IAAA,SAAS,EAAd,aAAA;AAAA,IAAA,QAAA,EAAA;AAAA,MAAA,QAAA,EAAA,YAAA;AAAA,MAAA,UAAA,EAAA;AAAA,KAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAAA,EACIN,YAVR,EASI,CARF,CADF;AAjCF,CAAA;;AAiDAT,UAAU,CAAVA,eAAAA,GAA6B,SAAA,OAAA,GAAA;AAAA,MAAA,UAAA;AAAA,SAAA,mBAAA,CAAA,KAAA,CAAA,SAAA,QAAA,CAAA,SAAA,EAAA;AAAA,WAAA,CAAA,EAAA;AAAA,cAAA,SAAA,CAAA,IAAA,GAAA,SAAA,CAAA,IAAA;AAAA,aAAA,CAAA;AAAA,UAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA,iBAAA,mBAAA,CAAA,KAAA,CACFQ,SAAS,CAATA,YAAAA,CADE,UACFA,CADE,CAAA;;AAAA,aAAA,CAAA;AACrBS,UAAAA,UADqB,GAAA,SAAA,CAAA,IACrBA;AADqB,iBAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EAGpB;AACLhB,YAAAA,MAAM,EAAEgB;AADH,WAHoB,CAAA;;AAAA,aAAA,CAAA;AAAA,aAAA,KAAA;AAAA,iBAAA,SAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,GAAA,CAAA;AAA7BjB,CAAAA;;AAQA,eAAA,UAAA","sourcesContent":["import { useState, useRef } from 'react';\r\nimport { NextPage } from 'next';\r\nimport _ from 'lodash';\r\n\r\nimport * as moviesApi from '../../common/http/movies';\r\n\r\nimport { Card, Col, Input, Row } from 'antd';\r\nimport LandingLayout from '../../containers/LandingLayout';\r\n\r\nconst { Meta } = Card;\r\nconst DefaultImageUrl = \"https://ci5.googleusercontent.com/proxy/kHgL543wKoBsxAOA1xAefBIZzsk0W2mq9Jz--x1UG8cY_dHuSOHQjxVRydCtQClUyUTAjxttjvmke9EuRsNuRpJ26n0dgrQDh1q8endwztBq0ZjHvxiHApoVlPafogrIV_3c78OSjt5kT4VcKtfRv0NCmMTEGw=s0-d-e1-ft#https://mcusercontent.com/bfbd29faaf4c5a50d776a6c40/images/e0a8a7ac-9b70-4481-a0ab-dd55419adff4.png\"\r\n\r\ninterface MovieItem {\r\n  id: string;\r\n  name: string;\r\n  summary: string;\r\n  image: any;\r\n}\r\n\r\ninterface Props {\r\n  movies: Array<MovieItem>;\r\n}\r\n\r\nconst MoviesPage: NextPage<Props> = ({ movies }) => {\r\n  const searchInput = useRef(null);\r\n  const [ moviesList, setMoviesList ] = useState(movies);\r\n\r\n  const onSearchMovies = async () => {\r\n    const movies = await moviesApi.searchMovies(searchInput.current.input.value);\r\n    setMoviesList(movies);\r\n  }\r\n\r\n  const renderMovies = (): JSX.Element | Array<JSX.Element> => {\r\n    return moviesList.length > 0\r\n      ? moviesList.map(movie => {\r\n        const movieSummary = _.replace(movie.summary, /<[/]?[pb]>/g, '');\r\n        return (\r\n          <Col key={movie.id} span={8} >\r\n          <Card\r\n            hoverable\r\n            cover={<img alt=\"example\" src={movie.image?.medium || DefaultImageUrl } />}\r\n            style={{\r\n              width: 240,\r\n              height: 600,\r\n              marginBottom: 24,\r\n              overflow: 'hidden',\r\n            }}\r\n          >\r\n            <Meta title={movie.name || 'No name given'} description={movieSummary || 'No summary info'} />\r\n          </Card>\r\n          </Col>\r\n        )\r\n      })  \r\n      : <p>No Movies found</p>\r\n  }\r\n\r\n  return (\r\n    <LandingLayout path=\"home/movies\" title=\"Movies\" >\r\n      <p>Movies page</p>\r\n      <Input\r\n        ref={searchInput}\r\n        required\r\n        placeholder=\"Title movie name and press 'Enter' to search\"\r\n        onPressEnter={onSearchMovies}\r\n        style={{marginBottom: '24px'}} />\r\n      <Row className=\"movies-list\">\r\n        { renderMovies() }\r\n      </Row>\r\n    </LandingLayout>\r\n  )\r\n}\r\n\r\nMoviesPage.getInitialProps = async () => {\r\n  const initMovies = await moviesApi.searchMovies('sherlock');\r\n\r\n  return {\r\n    movies: initMovies,\r\n  }\r\n}\r\n\r\nexport default MoviesPage;"]},"metadata":{},"sourceType":"module"}