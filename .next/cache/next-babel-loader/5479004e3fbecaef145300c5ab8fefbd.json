{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport fetch from 'isomorphic-unfetch';\nimport { get } from 'lodash/fp';\nexport var searchMovies = function searchMovies(query) {\n  var res, data;\n  return _regeneratorRuntime.async(function searchMovies$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"https://api.tvmaze.com/search/shows?q=\".concat(query)));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          return _context.abrupt(\"return\", data.map(function (entry) {\n            return get('show', entry);\n          }));\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/thangluong/Desktop/mypc/Projects/Personal/next-typescript/common/http/movies.ts"],"names":["fetch","get","searchMovies","query","res","json","data","map","entry"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAASC,GAAT,QAAoB,WAApB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACRH,KAAK,iDAA0CG,KAA1C,EADG;;AAAA;AACpBC,UAAAA,GADoB;AAAA;AAAA,2CAEPA,GAAG,CAACC,IAAJ,EAFO;;AAAA;AAEpBC,UAAAA,IAFoB;AAAA,2CAInBA,IAAI,CAACC,GAAL,CAAS,UAAAC,KAAK;AAAA,mBAAIP,GAAG,CAAC,MAAD,EAASO,KAAT,CAAP;AAAA,WAAd,CAJmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB","sourcesContent":["import fetch from 'isomorphic-unfetch';\r\nimport { get } from 'lodash/fp';\r\n\r\nexport const searchMovies = async (query: string) => {\r\n  const res = await fetch(`https://api.tvmaze.com/search/shows?q=${query}`);\r\n  const data = await res.json();\r\n\r\n  return data.map(entry => get('show', entry));\r\n}"]},"metadata":{},"sourceType":"module"}